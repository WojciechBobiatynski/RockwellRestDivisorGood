<section>
    <table>
        <thead>
        <tr class="grid-100 tableHeader-names">
            <th class="sortable grid-15" ng-class="getSortingTypeClass('trainingId')">
                <div ng-click="getSortedBy('trainingId')">Numer rozliczenia</div>
            </th>
            <th class="sortable grid-15" ng-class="getSortingTypeClass('price')">
                <div ng-click="getSortedBy('price')">Nazwa szkolenia</div>
            </th>
            <th class="sortable grid-15" ng-class="getSortingTypeClass('institutionName')">
                <div ng-click="getSortedBy('institutionName')">PESEL Uczestnika</div>
            </th>
            <th class="sortable grid-10" ng-class="getSortingTypeClass('name')">
                <div ng-click="getSortedBy('name')">Imię uczestnika</div>
            </th>
            <th class="sortable grid-15" ng-class="getSortingTypeClass('startDate')">
                <div ng-click="getSortedBy('startDate')">Nazwisko uczestnika</div>
            </th>
            <th class="sortable grid-15" ng-class="getSortingTypeClass('endDate')">
                <div ng-click="getSortedBy('endDate')">Data rozliczenia</div>
            </th>
            <th class="sortable grid-15" ng-class="getSortingTypeClass('place')">
                <div ng-click="getSortedBy('place')">Status rozliczenia</div>
            </th>
        </tr>
        <tr class="grid-100 tableHeader-options">
            <th class="grid-15">
                <input type="text" ng-model="elctRmbsCriteria.rmbsNumber">
            </th>
            <th class="grid-15">
                <input type="text" ng-model="elctRmbsCriteria.trainingName"/>
            </th>
            <th class="grid-15">
                <input type="text" ng-model="elctRmbsCriteria.pesel">
            </th>
            <th class="grid-10">
                <input ng-model="elctRmbsCriteria.participantName">
            </th>
            <th class="grid-15">
                <input ng-model="elctRmbsCriteria.participantSurname">
            </th>
            <th class="grid-15">
                <input type="text" placeholder="Data rozpoczęcia" ng-model="elctRmbsCriteria.rmbsDateFrom"
                       datepicker-popup="yyyy-MM-dd" is-open="datepicker.isRmbsDateFromOpened"
                       close-text="Zamknij" clear-text="Czyść" current-text="Dziś"
                       ng-click="openDatepicker('isRmbsDateFromOpened')"/>

                <input type="text" placeholder="Data zakończenia" ng-model="elctRmbsCriteria.rmbsDateTo"
                       datepicker-popup="yyyy-MM-dd" is-open="datepicker.isRmbsDateToOpened"
                       close-text="Zamknij" clear-text="Czyść" current-text="Dziś"
                       ng-click="openDatepicker('isRmbsDateToOpened')"/>
            </th>
            <th class="grid-15">
                <select ng-model="elctRmbsCriteria.rmbsStatus"
                        ng-options="v.name as v.name for v in elctRmbsModel.rmbsStatuses"></select>
            </th>
            <th>
                <button class="standardButton" ng-click="find()">Wyszukaj</button>
            </th>
        </tr>
        </thead>
        <tbody class="tableData">
        <tr ng-repeat="item in elctRmbsModel.foundRmbs | limitTo: searchResultOptions.displayLimit" ng-class="{'row-even': $even, 'row-odd': $odd}">
            <td>{{::item}}</td>
            <td>{{::item}}</td>
            <td>{{::item}}</td>
            <td>{{::item}}</td>
            <td>{{::item}}</td>
            <td>{{::item}}</td>
            <td>{{::item}}</td>
            <td>
                <ul class="buttons">
                    <!--TODO:przywileje-->
                    <li><a ng-href="#/modify/{{item.trainingId}}"
                           gryf-privilege="GRF_TRAINING_INSTITUTION_MOD"
                           class="button button-go">szczegóły</a>
                    </li>
                </ul>
            </td>
        </tr>
        </tbody>
    </table>
    <div ng-show="searchResultOptions.overflow" class="text-center">
        <ul>
            <li>
                <button ng-click="loadMore()" class="standardButton">Wczytaj więcej wyników</button>
            </li>
        </ul>
    </div>
    <div class="emptyResult" ng-show="elctRmbsModel.foundRmbs.length == 0">
        Brak wyników
    </div>
    <div class="msg msg-error" ng-show="searchResultOptions.badQuery">
        <p>Błąd kryteriów zapytania - niepoprawny format</p>
    </div>
</section>